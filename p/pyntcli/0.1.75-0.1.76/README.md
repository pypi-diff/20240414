# Comparing `tmp/pyntcli-0.1.75-py3-none-any.whl.zip` & `tmp/pyntcli-0.1.76-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,44 +1,44 @@
-Zip file size: 36249 bytes, number of entries: 42
--rw-r--r--  2.0 unx       23 b- defN 24-Apr-10 16:11 pyntcli/__init__.py
--rw-r--r--  2.0 unx     5171 b- defN 24-Apr-10 16:11 pyntcli/main.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-10 16:11 pyntcli/analytics/__init__.py
--rw-r--r--  2.0 unx     2845 b- defN 24-Apr-10 16:11 pyntcli/analytics/send.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-10 16:11 pyntcli/auth/__init__.py
--rw-r--r--  2.0 unx     5012 b- defN 24-Apr-10 16:11 pyntcli/auth/login.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-10 16:11 pyntcli/commands/__init__.py
--rw-r--r--  2.0 unx    10397 b- defN 24-Apr-10 16:11 pyntcli/commands/burp.py
--rw-r--r--  2.0 unx     9477 b- defN 24-Apr-10 16:11 pyntcli/commands/command.py
--rw-r--r--  2.0 unx     3654 b- defN 24-Apr-10 16:11 pyntcli/commands/har.py
--rw-r--r--  2.0 unx      943 b- defN 24-Apr-10 16:11 pyntcli/commands/id_command.py
--rw-r--r--  2.0 unx     8450 b- defN 24-Apr-10 16:11 pyntcli/commands/listen.py
--rw-r--r--  2.0 unx     4826 b- defN 24-Apr-10 16:11 pyntcli/commands/newman.py
--rw-r--r--  2.0 unx     4721 b- defN 24-Apr-10 16:11 pyntcli/commands/postman.py
--rw-r--r--  2.0 unx     2825 b- defN 24-Apr-10 16:11 pyntcli/commands/pynt_cmd.py
--rw-r--r--  2.0 unx     3320 b- defN 24-Apr-10 16:11 pyntcli/commands/root.py
--rw-r--r--  2.0 unx      374 b- defN 24-Apr-10 16:11 pyntcli/commands/sub_command.py
--rw-r--r--  2.0 unx     2793 b- defN 24-Apr-10 16:11 pyntcli/commands/util.py
--rw-r--r--  2.0 unx       19 b- defN 24-Apr-10 16:11 pyntcli/log/__init__.py
--rw-r--r--  2.0 unx     1069 b- defN 24-Apr-10 16:11 pyntcli/log/log.py
--rw-r--r--  2.0 unx       30 b- defN 24-Apr-10 16:11 pyntcli/pynt_docker/__init__.py
--rw-r--r--  2.0 unx      175 b- defN 24-Apr-10 16:11 pyntcli/pynt_docker/container_utils.py
--rw-r--r--  2.0 unx     8761 b- defN 24-Apr-10 16:11 pyntcli/pynt_docker/pynt_container.py
--rw-r--r--  2.0 unx       29 b- defN 24-Apr-10 16:11 pyntcli/store/__init__.py
--rw-r--r--  2.0 unx      560 b- defN 24-Apr-10 16:11 pyntcli/store/json_connector.py
--rw-r--r--  2.0 unx     1905 b- defN 24-Apr-10 16:11 pyntcli/store/store.py
--rw-r--r--  2.0 unx      357 b- defN 24-Apr-10 16:11 pyntcli/store/store_connector.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-10 16:11 pyntcli/transport/__init__.py
--rw-r--r--  2.0 unx     1563 b- defN 24-Apr-10 16:11 pyntcli/transport/pynt_requests.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-10 16:11 pyntcli/ui/__init__.py
--rw-r--r--  2.0 unx     1008 b- defN 24-Apr-10 16:11 pyntcli/ui/progress.py
--rw-r--r--  2.0 unx      546 b- defN 24-Apr-10 16:11 pyntcli/ui/pynt_errors.py
--rw-r--r--  2.0 unx     1930 b- defN 24-Apr-10 16:11 pyntcli/ui/report.py
--rw-r--r--  2.0 unx     4956 b- defN 24-Apr-10 16:11 pyntcli/ui/ui_thread.py
--rw-r--r--  2.0 unx      427 b- defN 24-Apr-10 16:11 tests/conftest.py
--rw-r--r--  2.0 unx     3209 b- defN 24-Apr-10 16:11 tests/auth/test_login.py
--rw-r--r--  2.0 unx      254 b- defN 24-Apr-10 16:11 tests/store/test_cred_store.py
--rw-r--r--  2.0 unx      463 b- defN 24-Apr-10 16:11 pyntcli-0.1.75.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Apr-10 16:11 pyntcli-0.1.75.dist-info/WHEEL
--rw-r--r--  2.0 unx       43 b- defN 24-Apr-10 16:11 pyntcli-0.1.75.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       30 b- defN 24-Apr-10 16:11 pyntcli-0.1.75.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     3430 b- defN 24-Apr-10 16:11 pyntcli-0.1.75.dist-info/RECORD
-42 files, 95687 bytes uncompressed, 30781 bytes compressed:  67.8%
+Zip file size: 36354 bytes, number of entries: 42
+-rw-r--r--  2.0 unx       23 b- defN 24-Apr-14 19:41 pyntcli/__init__.py
+-rw-r--r--  2.0 unx     5171 b- defN 24-Apr-14 19:41 pyntcli/main.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-14 19:41 pyntcli/analytics/__init__.py
+-rw-r--r--  2.0 unx     2845 b- defN 24-Apr-14 19:41 pyntcli/analytics/send.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-14 19:41 pyntcli/auth/__init__.py
+-rw-r--r--  2.0 unx     5228 b- defN 24-Apr-14 19:41 pyntcli/auth/login.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-14 19:41 pyntcli/commands/__init__.py
+-rw-r--r--  2.0 unx    10397 b- defN 24-Apr-14 19:41 pyntcli/commands/burp.py
+-rw-r--r--  2.0 unx     9477 b- defN 24-Apr-14 19:41 pyntcli/commands/command.py
+-rw-r--r--  2.0 unx     3654 b- defN 24-Apr-14 19:41 pyntcli/commands/har.py
+-rw-r--r--  2.0 unx      943 b- defN 24-Apr-14 19:41 pyntcli/commands/id_command.py
+-rw-r--r--  2.0 unx     8450 b- defN 24-Apr-14 19:41 pyntcli/commands/listen.py
+-rw-r--r--  2.0 unx     4826 b- defN 24-Apr-14 19:41 pyntcli/commands/newman.py
+-rw-r--r--  2.0 unx     4721 b- defN 24-Apr-14 19:41 pyntcli/commands/postman.py
+-rw-r--r--  2.0 unx     2825 b- defN 24-Apr-14 19:41 pyntcli/commands/pynt_cmd.py
+-rw-r--r--  2.0 unx     3320 b- defN 24-Apr-14 19:41 pyntcli/commands/root.py
+-rw-r--r--  2.0 unx      374 b- defN 24-Apr-14 19:41 pyntcli/commands/sub_command.py
+-rw-r--r--  2.0 unx     2793 b- defN 24-Apr-14 19:41 pyntcli/commands/util.py
+-rw-r--r--  2.0 unx       19 b- defN 24-Apr-14 19:41 pyntcli/log/__init__.py
+-rw-r--r--  2.0 unx     1069 b- defN 24-Apr-14 19:41 pyntcli/log/log.py
+-rw-r--r--  2.0 unx       30 b- defN 24-Apr-14 19:41 pyntcli/pynt_docker/__init__.py
+-rw-r--r--  2.0 unx      175 b- defN 24-Apr-14 19:41 pyntcli/pynt_docker/container_utils.py
+-rw-r--r--  2.0 unx     8761 b- defN 24-Apr-14 19:41 pyntcli/pynt_docker/pynt_container.py
+-rw-r--r--  2.0 unx       29 b- defN 24-Apr-14 19:41 pyntcli/store/__init__.py
+-rw-r--r--  2.0 unx      560 b- defN 24-Apr-14 19:41 pyntcli/store/json_connector.py
+-rw-r--r--  2.0 unx     1905 b- defN 24-Apr-14 19:41 pyntcli/store/store.py
+-rw-r--r--  2.0 unx      357 b- defN 24-Apr-14 19:41 pyntcli/store/store_connector.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-14 19:41 pyntcli/transport/__init__.py
+-rw-r--r--  2.0 unx     1563 b- defN 24-Apr-14 19:41 pyntcli/transport/pynt_requests.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-14 19:41 pyntcli/ui/__init__.py
+-rw-r--r--  2.0 unx     1008 b- defN 24-Apr-14 19:41 pyntcli/ui/progress.py
+-rw-r--r--  2.0 unx      546 b- defN 24-Apr-14 19:41 pyntcli/ui/pynt_errors.py
+-rw-r--r--  2.0 unx     1930 b- defN 24-Apr-14 19:41 pyntcli/ui/report.py
+-rw-r--r--  2.0 unx     4956 b- defN 24-Apr-14 19:41 pyntcli/ui/ui_thread.py
+-rw-r--r--  2.0 unx      427 b- defN 24-Apr-14 19:41 tests/conftest.py
+-rw-r--r--  2.0 unx     3798 b- defN 24-Apr-14 19:41 tests/auth/test_login.py
+-rw-r--r--  2.0 unx      254 b- defN 24-Apr-14 19:41 tests/store/test_cred_store.py
+-rw-r--r--  2.0 unx      463 b- defN 24-Apr-14 19:41 pyntcli-0.1.76.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-Apr-14 19:41 pyntcli-0.1.76.dist-info/WHEEL
+-rw-r--r--  2.0 unx       43 b- defN 24-Apr-14 19:41 pyntcli-0.1.76.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       30 b- defN 24-Apr-14 19:41 pyntcli-0.1.76.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     3430 b- defN 24-Apr-14 19:41 pyntcli-0.1.76.dist-info/RECORD
+42 files, 96492 bytes uncompressed, 30886 bytes compressed:  68.0%
```

## zipnote {}

```diff
@@ -105,23 +105,23 @@
 
 Filename: tests/auth/test_login.py
 Comment: 
 
 Filename: tests/store/test_cred_store.py
 Comment: 
 
-Filename: pyntcli-0.1.75.dist-info/METADATA
+Filename: pyntcli-0.1.76.dist-info/METADATA
 Comment: 
 
-Filename: pyntcli-0.1.75.dist-info/WHEEL
+Filename: pyntcli-0.1.76.dist-info/WHEEL
 Comment: 
 
-Filename: pyntcli-0.1.75.dist-info/entry_points.txt
+Filename: pyntcli-0.1.76.dist-info/entry_points.txt
 Comment: 
 
-Filename: pyntcli-0.1.75.dist-info/top_level.txt
+Filename: pyntcli-0.1.76.dist-info/top_level.txt
 Comment: 
 
-Filename: pyntcli-0.1.75.dist-info/RECORD
+Filename: pyntcli-0.1.76.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## pyntcli/__init__.py

```diff
@@ -1 +1 @@
-__version__ = "0.1.75"
+__version__ = "0.1.76"
```

## pyntcli/auth/login.py

```diff
@@ -21,44 +21,52 @@
 
 
 class InvalidTokenInEnvVarsException(LoginException):
     pass
 
 
 PYNT_ID = "PYNT_ID"
-PYNT_SAAS = os.environ.get("PYNT_SAAS_URL") if os.environ.get("PYNT_SAAS_URL") else "https://api.pynt.io/v1"
-PYNT_BUCKET_NAME = os.environ.get("PYNT_BUCKET_NAME") if os.environ.get("PYNT_BUCKET_NAME") else ""
-PYNT_PARAM1 = os.environ.get("PYNT_PARAM1") if os.environ.get("PYNT_PARAM1") else ""
-PYNT_PARAM2 = os.environ.get("PYNT_PARAM2") if os.environ.get("PYNT_PARAM2") else ""
+PYNT_CREDENTIALS = "PYNT_CREDENTIALS"
+PYNT_SAAS = os.environ.get("PYNT_SAAS_URL") if os.environ.get(
+    "PYNT_SAAS_URL") else "https://api.pynt.io/v1"
+PYNT_BUCKET_NAME = os.environ.get(
+    "PYNT_BUCKET_NAME") if os.environ.get("PYNT_BUCKET_NAME") else ""
+PYNT_PARAM1 = os.environ.get(
+    "PYNT_PARAM1") if os.environ.get("PYNT_PARAM1") else ""
+PYNT_PARAM2 = os.environ.get(
+    "PYNT_PARAM2") if os.environ.get("PYNT_PARAM2") else ""
 
 
 class Login():
     def __init__(self) -> None:
         self.delay = 5
         self.base_authorization_url = "https://pynt.io/login?"
         self.poll_url = "https://n592meacjj.execute-api.us-east-1.amazonaws.com/default/cli_validate_login"
         self.login_wait_period = (60 * 3)  # 3 minutes
 
     def create_login_request(self):
         request_id = uuid.uuid4()
-        request_url = self.base_authorization_url + urllib.parse.urlencode({"request_id": request_id, "utm_source": "cli"})
+        request_url = self.base_authorization_url + \
+            urllib.parse.urlencode(
+                {"request_id": request_id, "utm_source": "cli"})
         webbrowser.open(request_url)
 
         ui_thread.print(ui_thread.PrinterText("To continue, you need to log in to your account.")
                                  .with_line("You will now be redirected to the login page.")
                                  .with_line("")
                                  .with_line("If you are not automatically redirected, please click on the link provided below (or copy to your web browser)")
                                  .with_line(request_url))
         return request_id
 
     def get_token_using_request_id(self, request_id):
         with ui_thread.spinner("Waiting...", "point"):
             start = time.time()
             while start + self.login_wait_period > time.time():
-                response = pynt_requests.get(self.poll_url, params={"request_id": request_id})
+                response = pynt_requests.get(self.poll_url, params={
+                                             "request_id": request_id})
                 if response.status_code == 200:
                     return response.json()
                 time.sleep(self.delay)
             raise Timeout()
 
     def login(self):
         id = self.create_login_request()
@@ -149,14 +157,16 @@
         return token
     except json.JSONDecodeError:
         raise InvalidTokenInEnvVarsException()
 
 
 def should_login():
     env_creds = os.environ.get(PYNT_ID, None)
+    if not env_creds:
+        env_creds = os.environ.get(PYNT_CREDENTIALS, None)
     if env_creds:
         validated_creds = validate_creds_structure(env_creds)
         with CredStore() as store:
             store.put("token", validated_creds)
 
     with CredStore() as store:
         token = store.get("token")
```

## tests/auth/test_login.py

```diff
@@ -6,15 +6,15 @@
 import requests_mock
 import datetime
 import jwt
 import os
 from cryptography.hazmat.primitives.asymmetric import rsa
 from cryptography.hazmat.primitives import serialization
 
-from pyntcli.auth.login import Login, Timeout, InvalidTokenInEnvVarsException, is_jwt_expired, should_login, PYNT_ID
+from pyntcli.auth.login import Login, Timeout, InvalidTokenInEnvVarsException, is_jwt_expired, should_login, PYNT_ID, PYNT_CREDENTIALS
 from pyntcli.store import CredStore
 
 
 class TestLogin():
     @pytest.fixture
     def mock_webbrowser(self, mocker):
         try:
@@ -70,25 +70,39 @@
                         format=serialization.PrivateFormat.PKCS8,
                         encryption_algorithm=serialization.NoEncryption())
 
         token_data = {
             "exp": int((datetime.datetime.now() - datetime.timedelta(days=1)).timestamp())
         }
 
-        token = jwt.encode(token_data, private_key.decode(), algorithm="RS256").decode("utf-8")
+        token = jwt.encode(token_data, private_key.decode(),
+                           algorithm="RS256").decode("utf-8")
         assert is_jwt_expired(token) == True
 
         token_data = {
             "exp": int((datetime.datetime.now() + datetime.timedelta(days=1)).timestamp())
         }
 
-        token = jwt.encode(token_data, private_key.decode(), algorithm="RS256").decode("utf-8")
+        token = jwt.encode(token_data, private_key.decode(),
+                           algorithm="RS256").decode("utf-8")
         assert is_jwt_expired(token) == False
 
-    def test_login_using_env_vars(self, mocker, mock_expanduser):
+    def test_login_using_pynt_id_env_vars(self, mocker, mock_expanduser):
         creds = json.dumps({"token": {"refresh_token": "some data"}})
         mocker.patch.dict(os.environ, {PYNT_ID: creds})
         assert should_login() == False
 
         os.environ[PYNT_ID] = "some bad credentials"
         with pytest.raises(InvalidTokenInEnvVarsException):
             should_login()
+
+    def test_login_using_pynt_cred_env_vars(self, mocker, mock_expanduser):
+        creds = json.dumps({"token": {"refresh_token": "some data"}})
+        mocker.patch.dict(os.environ, {PYNT_CREDENTIALS: creds})
+        assert should_login() == False
+
+        os.environ[PYNT_CREDENTIALS] = "some bad credentials"
+        with pytest.raises(InvalidTokenInEnvVarsException):
+            should_login()
+
+    def test_should_login_no_env_var(self, mocker, mock_expanduser):
+        assert should_login() == True
```

## Comparing `pyntcli-0.1.75.dist-info/RECORD` & `pyntcli-0.1.76.dist-info/RECORD`

 * *Files 6% similar despite different names*

```diff
@@ -1,13 +1,13 @@
-pyntcli/__init__.py,sha256=FJWQjdyjCSq1G0xvL-leZBsVKT8Trwi_Y3BZDT0-Bus,23
+pyntcli/__init__.py,sha256=jVtRNUwef3C7goIQGYOlvZVl9Bl7_p_NJdso3mdhBCM,23
 pyntcli/main.py,sha256=7ZDeG3IO04T98D2NJ1vHWVAVJVm8y719NeV2Aom7tPY,5171
 pyntcli/analytics/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 pyntcli/analytics/send.py,sha256=cKvMw4HIGJGLip5OMPqTv1AJDlKlc_Uk2Sfcl0e3QLE,2845
 pyntcli/auth/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-pyntcli/auth/login.py,sha256=CosHIB1HHWa3cGjpE4uHNxsi_7SPL-I6Da0zCq3OcmU,5012
+pyntcli/auth/login.py,sha256=TljsRXbEkNI1YUrKm5mlTw4YiecYScYUsit8Z8vstss,5228
 pyntcli/commands/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 pyntcli/commands/burp.py,sha256=tbGpKP4NEuEZYSuBxqvLJaC4kRqtv0GO6BpBfPX2DRM,10397
 pyntcli/commands/command.py,sha256=UvJEHv69iQ03R0pN2RCsi3my48xwSMoDBTvcnbg_XzE,9477
 pyntcli/commands/har.py,sha256=mSCbTUnxQrKzJd-dAWoc6Tkw6tU1LDH7Ha1w2ylrrrg,3654
 pyntcli/commands/id_command.py,sha256=UBEgMIpm4vauTCsKyixltiGUolNg_OfHEJvJ_i5BpJY,943
 pyntcli/commands/listen.py,sha256=ZfzCM8P0TVweC42NCL24_1yK48_NvRER6Vi8_oChaT0,8450
 pyntcli/commands/newman.py,sha256=y0KolwMgsvoqPz2mp0QRug_qNr-ftOZbu_tN7h4bH7I,4826
@@ -29,14 +29,14 @@
 pyntcli/transport/pynt_requests.py,sha256=KiEG3hNcwY7DLIJDCq-7LIPq54yYQcDBhHe3KhpqRTc,1563
 pyntcli/ui/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 pyntcli/ui/progress.py,sha256=RrnO_jJNunoyupylakmWmHOEPw3lh99OHpKBzL6OBiE,1008
 pyntcli/ui/pynt_errors.py,sha256=UAr8OV5EM4zLhfWSmK_qss8nal2Ezo66Dk8ZMvR_RTs,546
 pyntcli/ui/report.py,sha256=W-icPSZrGLOubXgam0LpOvHLl_aZg9Zx9qIkL8Ym5PE,1930
 pyntcli/ui/ui_thread.py,sha256=OVTbiIFMg2KgxAvHf7yy86xGm4RVS2vj_VYZkMi-SRY,4956
 tests/conftest.py,sha256=gToq5K74GtgeGQXjFvXSzMaE6axBYxAzcFG5XJPOXjI,427
-tests/auth/test_login.py,sha256=juYxYZWfNmAuwm-ygGEF5gjzaR9LcimonDr7pN5vgLI,3209
+tests/auth/test_login.py,sha256=KFlzWhXBAuwdi7GXf16gCB3ya94LQG2wjcSChE149rQ,3798
 tests/store/test_cred_store.py,sha256=_7-917EtNC9eKEumO2_lt-7KuDmCwOZFaowCm7DbA_A,254
-pyntcli-0.1.75.dist-info/METADATA,sha256=RC4dmb_LHLW2n3oSNK5--zOSaOJBC2Hcm-7LQrUakiU,463
-pyntcli-0.1.75.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
-pyntcli-0.1.75.dist-info/entry_points.txt,sha256=kcGmqAxXDttNk2EPRcqunc_LTVp61gzakz0v-GEE2SY,43
-pyntcli-0.1.75.dist-info/top_level.txt,sha256=u9MDStwVHB7UG8PUcODeWCul_NvzL2EzoLvSlgwLHFs,30
-pyntcli-0.1.75.dist-info/RECORD,,
+pyntcli-0.1.76.dist-info/METADATA,sha256=JXoZK9xKFquRF05o6XSLXhLjQOpSgl8iNsFYHylrsHc,463
+pyntcli-0.1.76.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
+pyntcli-0.1.76.dist-info/entry_points.txt,sha256=kcGmqAxXDttNk2EPRcqunc_LTVp61gzakz0v-GEE2SY,43
+pyntcli-0.1.76.dist-info/top_level.txt,sha256=u9MDStwVHB7UG8PUcODeWCul_NvzL2EzoLvSlgwLHFs,30
+pyntcli-0.1.76.dist-info/RECORD,,
```

